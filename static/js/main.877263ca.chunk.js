(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t,a){e.exports=a(347)},172:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(27),o=a.n(i),c=(a(172),a(127)),l=a(128),s=a(165),u=a(129),d=a(166),p=a(24),f=a(31),E=a(32),m=a(131),g=a(132),v=a(6),h=["ADD ARTICLE","REMOVE ARTICLE","UPDATE ARTICLE","ADD ARTICLE AND STOCK","ADD ARTICLE AND SALE","ADD SALE","ADD STOCK","REMOVE STOCK","REMOVE SALE","INCORRECT PRICE","REMOVE PRICE","ADD PRICE","ADD UPDATE ARTICLE","DESIGNATION EXIST ERROR","FILE ERROR"],C=function(e){return{message:e,variant:"info",open:!0}},b={"ADD ARTICLE":C("article enregistr\xe9"),"ADD STOCK":C("stock enregistr\xe9"),"ADD SALE":C("vente enregistr\xe9e"),"ADD ARTICLE AND SALE":C("article et vente enregistr\xe9s"),"ADD ARTICLE AND STOCK":C("article et stock enregistr\xe9s"),"REMOVE ARTICLE":C("article supprim\xe9"),"REMOVE STOCK":C("stock supprim\xe9"),"REMOVE SALE":C("vente supprim\xe9e"),"ADD PRICE":C("prix ajout\xe9"),"REMOVE PRICE":C("prix retir\xe9"),"INCORRECT PRICE":C("le prix ou la quantit\xe9 ne peut pas etre en dessous de 1"),"ADD UPDATE ARTICLE":C("l'article est mis \xe0 jour"),"DESIGNATION EXIST ERROR":C("Cette designation est deja inscrit dans le syst\xe8me"),"FILE ERROR":C("Fichier corrompu")},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.some(function(e){return e===t})},P=Object(E.c)({filter:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"TOGGLE FILTER"!==(arguments.length>1?arguments[1]:void 0).type?e:!e},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1?arguments[1]:void 0).type;return O(h,t)?b[t]:"TOGGLE NOTIFICATION"!==t?e:Object(v.a)({},e,{open:!e.open})},select:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"SELECT ARTICLE"!==a?O(["ADD SALE","ADD UPDATE ARTICLE","REMOVE ARTICLE","TOGGLE ARTICLE MENU"],a)?{}:e:n}}),A=a(21),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.keys(e).filter(function(e){return 1*e!==t}).reduce(function(t,a){return Object(v.a)({},t,Object(A.a)({},a,e[a]))},{})},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return Object(v.a)({},e,Object(A.a)({},t,a))},y=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce(function(e,t){return Object(v.a)({},e,t)},{})},T=a(5),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.id,n=Object(T.a)(t,["id"]);return Object(v.a)({},e,Object(A.a)({},a,Object(v.a)({id:a},n)))},I=Object(E.c)({articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return O(["ADD ARTICLE","ADD UPDATE ARTICLE"],a)?D(e,n.id,y(e[n.id],n)):O(["ADD ARTICLE AND STOCK","ADD ARTICLE AND SALE"],a)?D(e,n.artId,function(e){return{id:e.artId,des:e.art,uPrice:e.uPrice}}(n)):"REMOVE ARTICLE"!==a?"ADD PRICE"!==a?"REMOVE PRICE"!==a?"OPEN FILE"!==a?e:n.articles:D(e,n.art,D(e[n.art],"prices",S(e[n.art].prices,n.qty))):D(e,n.id,D(e[n.id],"prices",D(e[n.id].prices,n.qty,{q:n.qty,p:n.price}))):S(e,n)},operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return O(["REMOVE SALE","REMOVE STOCK"],a)?S(e,n):O(["ADD STOCK","ADD ARTICLE AND STOCK"],a)?j(e,function(e){var t=e.artId,a=e.id,n=e.art,r=e.code;return{art:n,artId:t,id:a,qty:e.qty,code:r,tCout:e.tCout,time:e.time}}(n)):O(["ADD SALE","ADD ARTICLE AND SALE"],a)?j(e,n):"REMOVE ARTICLE"!==a?"OPEN FILE"!==a?"REINIT"!==a?e:{}:n.operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.keys(e).reduce(function(a,n){return e[n].artId!==t?Object(v.a)({},a,Object(A.a)({},n,e[n])):a},{})}(e,n)}}),R={article:{des:"",uPrice:100},stock:{art:"",qty:1,uPrice:100,tCout:1e3,code:0},sale:{art:"",qty:1,code:1,uPrice:100},subscribe:{limitDate:"",code:""},price:{qty:10,price:1e3}},L={currentDate:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(t.getFullYear(),"-").concat((e=t.getMonth()+1,e<10?"0".concat(e):e),"-").concat(t.getDate())}(),filterDay:!1,setOldTime:!1},k={operations:{perPage:5,currentPage:0},sales:{perPage:5,currentPage:0},articles:{perPage:5,currentPage:0},salesStats:{perPage:5,currentPage:0},operationsStats:{perPage:5,currentPage:0},resultStats:{perPage:5,currentPage:0}},N={article:{order:"asc",orderBy:"des"},sale:{order:"desc",orderBy:"time"},stock:{order:"desc",orderBy:"time"},saleStats:{order:"desc",orderBy:"revenue"},operationStats:{order:"desc",orderBy:"rCout"},resultStats:{order:"desc",orderBy:"result"}},q={firstVisit:void 0,limitDate:void 0,code:"49fd32cea08c20ec1b6c04985615d95df79766d0"};var x,B=function(e,t){var a=t.code,n=t.limitDate;return e.code===function(e){function t(e){for(var t=(e>>>0).toString(16);t.length<8;)t="0"+t;return t}function a(e){return 4294967295&e}function n(e,t){return e<<t|e>>>32-t}var r,i,o,c,l,s,u,d,p,f=1732584193,E=4023233417,m=2562383102,g=271733878,v=3285377520,h=new Array(80),C=(e=(e=unescape(encodeURIComponent(e))).split(/.*?/).map(function(e){return e.charCodeAt(0)})).length,b=[];for(r=0;r<C-3;r+=4)i=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],b.push(i);switch(C%4){case 0:r=2147483648;break;case 1:r=e[C-1]<<24|8388608;break;case 2:r=e[C-2]<<24|e[C-1]<<16|32768;break;case 3:r=e[C-3]<<24|e[C-2]<<16|e[C-1]<<8|128}for(b.push(r);b.length%16!=14;)b.push(0);for(b.push(C>>>29),b.push(a(C<<3)),o=0;o<b.length;o+=16){for(r=0;r<16;r++)h[r]=b[o+r];for(r=16;r<80;r++)h[r]=n(h[r-3]^h[r-8]^h[r-14]^h[r-16],1);for(c=f,l=E,s=m,u=g,d=v,r=0;r<=19;r++)p=a(n(c,5)+(l&s|~l&u)+d+h[r]+1518500249),d=u,u=s,s=n(l,30),l=c,c=p;for(r=20;r<=39;r++)p=a(n(c,5)+(l^s^u)+d+h[r]+1859775393),d=u,u=s,s=n(l,30),l=c,c=p;for(r=40;r<=59;r++)p=a(n(c,5)+(l&s|l&u|s&u)+d+h[r]+2400959708),d=u,u=s,s=n(l,30),l=c,c=p;for(r=60;r<=79;r++)p=a(n(c,5)+(l^s^u)+d+h[r]+3395469782),d=u,u=s,s=n(l,30),l=c,c=p;f=a(f+c),E=a(E+l),m=a(m+s),g=a(g+u),v=a(v+d)}return t(f)+t(E)+t(m)+t(g)+t(v)}(a)?D(e,"limitDate",n):e},M=function(e,t,a){return function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=(arguments.length>1?arguments[1]:void 0).type;return r!=="TOGGLE ".concat(e)?!O(t,r)&&(!!O(a,r)||n):!n}},U=Object(E.c)({updateArticle:M("UPDATE ARTICLE",["ADD UPDATE ARTICLE"],["EDIT ARTICLE"]),article:M("ARTICLE",["ADD ARTICLE","ADD ARTICLE AND STOCK","ADD ARTICLE AND SALE"]),stock:M("STOCK",["ADD STOCK","ADD ARTICLE AND STOCK"]),sale:M("SALE",["ADD SALE","ADD ARTICLE AND SALE"],["BUY ARTICLE"]),artSale:M("ART SALE",["ADD ARTICLE AND SALE"]),artStock:M("ART STOCK",["ADD ARTICLE AND STOCK"]),appMenu:M("APP MENU",["ADD ARTICLE","REINIT","OPEN FILE","BACKUP","SET SUBSCRIPTION","ADD ARTICLE AND STOCK","ADD ARTICLE AND SALE","ADD STOCK"]),articlePage:M("ARTICLE PAGE",["ADD UPDATE ARTICLE","ADD PRICE"]),price:M("PRICE",["ADD PRICE"]),articlesPage:M("ARTICLES PAGE"),salePage:M("SALE PAGE",["ADD SALE","ADD ARTICLE AND SALE"]),operationPage:M("OPERATION PAGE",["ADD STOCK","ADD ARTICLE AND STOCK"]),saleStats:M("SALES STATS"),operationStats:M("OPERATIONS STATS"),resultStats:M("RESULTS STATS"),filter:M("FILTER MENU"),statsMenu:M("STATS MENU"),setting:M("SETTING"),about:M("ABOUT",["SET SUBSCRIPTION"]),subscribe:M("SUBSCRIBE",["SET SUBSCRIPTION"]),info:M("INFO"),deleteArt:M("DELETE ART",["REMOVE ARTICLE"]),confirmReinit:M("CONFIRM REINIT",["REINIT"])}),w=Object(E.c)({core:P,entities:I,forms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"INPUT CHANGE"!==a?"SELECT ARTICLE"!==a?"BUY ARTICLE"!==a?"SET SUBSCRIPTION"!==a?O(["ADD ARTICLE","ADD UPDATE ARTICLE","ADD PRICE"],a)?Object(v.a)({},e,{article:R.article}):O(["ADD SALE","ADD ARTICLE AND SALE"],a)?Object(v.a)({},e,{sale:R.sale}):O(["ADD STOCK","ADD ARTICLE AND STOCK"],a)?Object(v.a)({},e,{stock:R.stock}):e:Object(v.a)({},e,{subscribe:R.subscribe}):Object(v.a)({},e,{sale:Object(v.a)({},e.sale,{art:n.des})}):Object(v.a)({},e,{article:n.article}):Object(v.a)({},e,Object(A.a)({},n.form,Object(v.a)({},e[n.form],Object(A.a)({},n.field,n.value))))},slicing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"PAGE CHANGE"!==a?"PER PAGE CHANGE"!==a?"TOGGLE FILTER"!==a?e:k:Object(v.a)({},e,Object(A.a)({},n.table,{currentPage:0,perPage:n.perPage})):Object(v.a)({},e,Object(A.a)({},n.table,Object(v.a)({},e[n.table],{currentPage:n.page})))},sorting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"SORT TABLE"!==a?e:Object(v.a)({},e,Object(A.a)({},n.form,{orderBy:n.id,order:"desc"===e[n.form].order?"asc":"desc"}))},subscription:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"SET FIRST VISIT"!==a?"SET SUBSCRIPTION"!==a?e:B(e,n):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;return Boolean(e.firstVisit)?e:D(e,"firstVisit",Date.now())}(e)},ui:U,settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"SET SETTING"!==a?e:D(e,n.key,n.value)}}),G=function(e){return Object.keys(e)},F=["ADD SALE","ADD STOCK"],K=["ADD ARTICLE AND SALE","ADD ARTICLE AND STOCK"],V=["ADD ARTICLE"],Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?Math.max.apply(Math,Object(f.a)(e))+1:1},W=a(133),z=function e(t,a){var n=Object(W.a)(t),r=n[0],i=r.p,o=r.q,c=n.slice(1),l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a<o?a<1?l:e(c,a,l):e([{p:i,q:o}].concat(Object(f.a)(c)),a-o,l+i)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map(function(t){return e[t]})},H=function(e,t){var a=e.prices,n=e.uPrice;return Boolean(a)?z([].concat(Object(f.a)(J(a).reverse()),[{q:1,p:n}]),t):n*t},Y=function(e,t){var a=e.id,n=e.des,r=Object(T.a)(e,["id","des"]),i=(t.art,t.qty),o=t.code,c=Object(T.a)(t,["art","qty","code"]);return Object(v.a)({},c,{qty:i,code:o,art:n,artId:a,tPrice:1===o?H(r,i):void 0})},X=function(e,t){var a=e.entities;return Object.keys(a.articles).map(function(e){return a.articles[e]}).find(function(e){return e.des===t})},$=function(e,t){var a=e.entities;return Object.keys(a.articles).some(function(e){return t===a.articles[e].des})},Z=["ADD STOCK","ADD ARTICLE AND STOCK"],_=function(e,t,a){var n=a.settings;return n.setOldTime&&O(Z,t)?Object(v.a)({},e,{time:new Date(n.currentDate).setMinutes((new Date).getMinutes())}):Object(v.a)({},e,{time:Date.now()})},ee=["ADD SALE","ADD STOCK","ADD ARTICLE","ADD ARTICLE AND SALE","ADD ARTICLE AND STOCK"],te=["ADD ARTICLE","ADD UPDATE ARTICLE"],ae=function(e,t){return Boolean(function(e,t){var a=e.entities,n=t.des,r=t.id;return J(a.articles).find(function(e){var t=e.id,a=e.des;return t!==r&&a===n})}(e,t))},ne=function(e,t,a){return function(e,t){var a;return localStorage.setItem("lingb-data",JSON.stringify({entities:(a=e()).entities,subscription:a.subscription,settings:a.settings})),t}(e.getState,t(a))},re=[function(e){return function(t){return function(a){return"ADD SALE"!==a.type||$(e.getState(),a.payload.art)?t(a):t({type:"TOGGLE ART SALE"})}}},function(e){return function(t){return function(a){return"ADD STOCK"!==a.type||$(e.getState(),a.payload.art)?t(a):t({type:"TOGGLE ART STOCK"})}}},function(e){return function(t){return function(a){return t(function(e,t){var a=e.type,n=e.payload,r=t.entities;return O(F,a)?{type:a,payload:Object(v.a)({},n,{id:Q(G(r.operations))})}:O(K,a)?{type:a,payload:Object(v.a)({},n,{id:Q(G(r.operations)),tPrice:1===n.code?n.uPrice*n.qty:void 0,artId:Q(G(r.articles))})}:O(V,a)?{type:a,payload:y(n,{id:Q(G(r.articles))})}:{type:a,payload:n}}(a,e.getState()))}}},function(e){return function(t){return function(a){return O(ee,a.type)?t(Object(v.a)({},a,{payload:_(a.payload,a.type,e.getState())})):t(a)}}},function(e){return function(t){return function(a){return O(["ADD SALE","ADD STOCK"],a.type)?t(Object(v.a)({},a,{payload:Y(X(e.getState(),a.payload.art),a.payload)})):t(a)}}},function(e){return function(t){return function(a){return O(te,a.type)&&ae(e.getState(),a.payload)?t({type:"DESIGNATION EXIST ERROR"}):t(a)}}},function(e){return function(e){return function(t){return"ADD PRICE"!==t.type||0!==t.payload.qty&&0!==t.payload.price?e(t):e({type:"INCORRECT PRICE"})}}},function(e){return function(t){return function(a){return ne(e,t,a)}}},function(e){return function(e){return function(t){return"SET SUBSCRIPTION"!==t.type?e(t):function(e,t){var a=e(t);return localStorage.setItem("lingb-sub",JSON.stringify(Date.parse(t.payload.limitDate))),a}(e,t)}}}],ie=Object(E.d)(w,JSON.parse(localStorage.getItem("lingb-data"))||{},E.a.apply(void 0,[Object(m.createLogger)(),g.a].concat(Object(f.a)(re)))),oe=a(12),ce=a(35),le=a(45),se=function(e,t){return function(){return e({type:"TOGGLE ".concat(t)})}},ue=function(e){return{handleSuscribe:se(e,"SUBSCRIBE"),handleOrder:se(e,"INFO")}},de=function(e,t){return{handleClick:se(e,t)}},pe=function(e,t){return["qty","tCout","uPrice","price"].some(function(t){return t===e})?t.target.valueAsNumber:t.target.value},fe=function(e,t){return function(a){return function(n){return e({type:"INPUT CHANGE",payload:{form:t,field:a,value:pe(a,n)}})}}},Ee=function(e){return{handleClose:se(e,"SETTING"),handleChange:function(t,a){return e({type:"SET SETTING",payload:{key:t,value:a}})}}},me=function(e){return{handleClose:se(e,"ABOUT"),handleSuscribeClick:se(e,"SUBSCRIBE")}},ge=function(e){return function(){return e(function(e,t){var a,n=document.createElement("a");n.download="backup.json",n.href=(a=function(e){var t=e.entities;return t}(t()),URL.createObjectURL(new Blob([JSON.stringify(a)]))),n.click(),e({type:"BACKUP"})})}},ve=function(e,t){var a=new FileReader;a.onload=function(){return Boolean(function(e){try{return JSON.parse(e)}catch(t){return}}(a.result))?e({type:"OPEN FILE",payload:JSON.parse(a.result)}):e({type:"FILE ERROR"})},a.readAsText(t.files[0])},he=function(e){return function(t){return function(){return e({type:"SET SUBSCRIPTION",payload:t})}}},Ce=function(e,t){return{fheaderProps:{handleMoreClick:se(e,"APP MENU")},fnotificationProps:{handleClose:se(e,"NOTIFICATION")},fsubscriptionProps:ue(e),faboutProps:me(e),fsubscribeProps:{handleClose:se(e,"SUBSCRIBE"),handleChange:fe(e,"subscribe"),handleSubmit:he(e)},finfoProps:{handleClose:se(e,"INFO")},fsettingProps:Ee(e),fappMenuProps:{handleClose:se(e,"APP MENU"),fabout:de(e,"ABOUT"),fbackup:ge(e),fopen:{handleClick:(a=e,function(){var e=document.createElement("input");e.type="file",e.accept="application/json",a(function(t){e.onchange=function(e){var a=e.target;return ve(t,a)}}),e.click()})},fsetting:de(e,"SETTING"),freinit:de(e,"CONFIRM REINIT")},fconfirmReinit:{onClose:se(e,"CONFIRM REINIT"),onConfirm:function(){return e({type:"REINIT"})}}};var a},be=function(e,t,a,n){return{flegendProps:{handleMoreClick:se(e,t)},ftableProps:{fcellProps:{handleSort:function(t){return function(){return e({type:"SORT TABLE",payload:{id:t,form:a}})}}},frowProps:n}}},Oe=function(e,t){return{handleRemove:function(a){return function(){return e({type:"REMOVE ".concat(t),payload:a})}}}},Pe=function(e,t){return{SALE:be(e,"SALE","sale",Oe(e,"SALE")),STOCK:be(e,"STOCK","stock",Oe(e,"STOCK")),PRICE:be(e,"PRICE","price",Oe(e,"PRICE")),"SALES STATS":be(e,"SALES STATS","saleStats"),"OPERATIONS STATS":be(e,"OPERATIONS STATS","operationStats"),"RESULTS STATS":be(e,"RESULTS STATS","resultStats"),ARTICLE:be(e,"ARTICLE","article",{handleSelect:function(t){return function(a){return e({type:"SELECT ARTICLE",payload:{article:t,anchor:a.currentTarget}})}}})}[t]},Ae=function(e,t,a,n){return{handleChange:fe(e,t),handleClose:se(e,n),handleSubmit:function(){return e((n=a,r=t,function(e,t){return e(function(e,t,a){var n=a.forms;return{type:"ADD ".concat(e),payload:n[t]}}(n,r,t()))}));var n,r}}},Se=function(e,t,a,n,r,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7?arguments[7]:void 0;return{headerProps:{title:i,dashboard:o},notificationProps:e.notification,subscriptionProps:D(t,"limitDate",Date.parse(t.limitDate)),subscribeProps:D(a.subscribe,"open",n.subscribe),aboutProps:D(t,"open",n.about),infoProps:D({},"open",n.info),settingProps:D(r,"open",n.setting),appMenuProps:{entities:c,open:n.appMenu},confirmReinit:{open:n.confirmReinit}}},De=function(e,t,a,n,r,i,o,c){return{legendProps:{title:e,url:t,statCard:c},tableProps:{cellProps:{order:a,orderBy:n},schema:o,data:i,Row:r}}},ye=function(e,t){return{title:e,infos:t}},Te=function(e){return{limitDate:e.limitDate,firstVisit:e.firstVisit}},je=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},Ie=function(e){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e)}},Re=je(Ie((x="des",function(e){return e[x]})),J),Le=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return Object(v.a)({open:e},t,{articles:Boolean(a)?Re(a):[]})},ke=a(9),Ne=a.n(ke),qe=a(30),xe=a.n(qe),Be=a(28),Me=a.n(Be),Ue=a(134),we=a.n(Ue),Ge=function(e){var t=e.handleClick;return r.a.createElement(Me.a,{color:"secondary",onClick:t},r.a.createElement(we.a,null))},Fe=function(e){var t=e.price,a=e.qty,n=e.art,i=e.handleRemove;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,a),r.a.createElement(Ne.a,{align:"right",padding:"none"},t),r.a.createElement(Ne.a,{padding:"none"},r.a.createElement("div",{className:"cell-action"},a>1&&r.a.createElement(Ge,{handleClick:i({art:n,qty:1*a})}),r.a.createElement("div",{style:{width:8}}))))},Ke=function(e,t){return[["Designation",e[t].des],["Prix unitaire",e[t].uPrice]]},Ve=function(e,t){return e>t?1:-1},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"desc",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort(function(e,t){return"desc"===e?function(e,a){return-Ve(e[t],a[t])}:function(e,a){return Ve(e[t],a[t])}}(e,t))}},We=Qe("asc"),ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return 0===t?0:e/t},Je=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},He=function(e,t,a){var n=e.code,r=e.qty,i=e.tCout,o=Object(T.a)(e,["code","qty","tCout"]);return 0===n?Object(v.a)({},o,{code:n,qty:r,tCout:i,uCout:ze(i,r)}):Object(v.a)({},o,{code:n,qty:r,tCout:Je(ze(t,a),r),uCout:ze(t,a)})},Ye=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},Xe=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},$e=function(e,t,a){var n=e.code,r=e.qty,i=e.tCout;return 0===n?Ye(t,i):Xe(t,Je(ze(t,a),r))},Ze=function(e,t){var a=e.code,n=e.qty;return 0===a?Ye(t,n):Xe(t,n)},_e=je(function(e){return Object(oe.a)(e,1)[0]},function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=Object(oe.a)(e,3),n=a[0],r=a[1],i=a[2];return[[].concat(Object(f.a)(n),[He(t,r,i)]),$e(t,r,i),Ze(t,i)]},[[],0,0])},We),et=[["Chiffre d'affaire",0],["Quantit\xe9 vendue",0],["Prix moyen",0],["Nombre de ventes",0],["Resultat",0]],tt=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=Object(oe.a)(e,5),n=Object(oe.a)(a[0],2)[1],r=Object(oe.a)(a[1],2)[1],i=Object(oe.a)(a[2],2)[1],o=Object(oe.a)(a[3],2)[1],c=Object(oe.a)(a[4],2)[1],l=t.tCout,s=t.tPrice,u=t.qty;return[["Chiffre d'affaire",n+s],["Quantit\xe9 vendue",r+u],["Prix moyen",i>0?(i+s/u)/2:s/u],["Nombre de ventes",o+1],["Resultat",l>0?c+(s-l):c]]},et)},at=function(e,t){return je(tt,(a=t,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){var t=e.code,n=e.artId;return 1===t&&n===a})}),_e,function(e){return e.filter(function(e){var a=e.artId;return t===a})},J)(e);var a},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.code,n=t.tCout;return 0!==a?["stock achete",e]:["stock achete",Ye(e,n)]},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.code,n=t.tCout;return 1===a?["stock vendu",Ye(e,n)]:["stock vendu",e]},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.code,n=t.tCout;return 0===a?["stock restant",Ye(e,n)]:["stock restant",Xe(e,n)]},ot=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=Object(oe.a)(e,3),n=Object(oe.a)(a[0],2)[1],r=Object(oe.a)(a[1],2)[1],i=Object(oe.a)(a[2],2)[1];return[nt(n,t),rt(r,t),it(i,t)]},[["stock achete",0],["stock vendu",0],["stock restant",0]])},ct=function(e,t){return je(ot,_e,function(e){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(t){return t.artId===e})}}(t),J)(e)},lt=new Intl.NumberFormat("fr",{minimumFractionDigits:2,maximumFractionDigits:2}).format,st=new Intl.NumberFormat("fr",{maximumFractionDigits:0}).format,ut=function(e){var t=e.id,a=e.uPrice,n=e.prices;return[{qty:1,price:lt(a),art:t}].concat(Object(f.a)(J(n||{}).map(function(e){var a=e.p,n=e.q;return{art:t,qty:st(n),price:lt(a)}})))},dt=a(138),pt=a.n(dt),ft=a(15),Et=a.n(ft),mt=a(135),gt=a.n(mt),vt=function(){return r.a.createElement(Me.a,{color:"inherit",onClick:function(){return window.history.back()}},r.a.createElement(gt.a,null))},ht=a(136),Ct=a.n(ht),bt=function(){return r.a.createElement("div",{style:{padding:"0 8px"}},r.a.createElement(Ct.a,null))},Ot=a(137),Pt=a.n(Ot),At=function(e){var t=e.handleClick,a=Object(T.a)(e,["handleClick"]);return r.a.createElement(Me.a,Object.assign({},a,{onClick:t}),r.a.createElement(Pt.a,null))},St=function(e){var t=e.dashboard,a=void 0!==t&&t,n=e.handleMoreClick,i=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.a,{position:"fixed"},r.a.createElement("div",{className:"flex-center-items toolbar"},a?r.a.createElement(bt,null):r.a.createElement(vt,null),r.a.createElement(Et.a,{noWrap:!0,variant:"headline",color:"inherit"},i),r.a.createElement("div",{className:"spacer"}),r.a.createElement(At,{id:"menu",color:"inherit",handleClick:n}))),r.a.createElement("div",{style:{height:64}}))},Dt=a(139),yt=a.n(Dt),Tt=a(93),jt=a.n(Tt),It={info:"darkgreen"},Rt=function(e){var t=e.message,a=e.open,n=void 0!==a&&a,i=e.variant,o=void 0===i?"info":i,c=e.handleClose;return r.a.createElement(yt.a,{open:n,autoHideDuration:6e3,anchorOrigin:{horizontal:"left",vertical:"bottom"},onClose:c},r.a.createElement(jt.a,{style:{backgroundColor:It[o]},message:t}))},Lt=a(29),kt=a.n(Lt),Nt=function(e){var t=e.message,a=e.handleOrder;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{visibility:"collapse"}},r.a.createElement(kt.a,{color:"primary",variant:"contained",onClick:a,children:"s'abonner"})),r.a.createElement("div",{style:{color:"darkred",backgroundColor:"#fff",display:"flex",alignItems:"center",position:"fixed",bottom:0,left:0,right:0,boxShadow:"0px -2px 8px"}},r.a.createElement("div",{style:{padding:"0 8px",flex:"auto"}},r.a.createElement(Et.a,{align:"justify",color:"inherit"},t)),r.a.createElement("div",null,r.a.createElement(kt.a,{color:"primary",onClick:a},"S'abonner"))))},qt=function(e){var t=e.expired,a=void 0!==t&&t,n=e.handleSubscribe,i=e.handleOrder;return r.a.createElement("div",{style:{display:"flex",padding:16,position:"fixed",top:0,left:0,right:0,zIndex:1200,bottom:0,backgroundColor:"#fff",flexDirection:"column",justifyContent:"center"}},r.a.createElement(Et.a,{color:"secondary",align:"justify",paragraph:!0},a?"Votre abonnement a expir\xe9":"La periode d'essai est depass\xe9e"),r.a.createElement(Et.a,{color:"primary",align:"justify",paragraph:!0},"Commandez un abonnement en cliquant sur le button s'abonner"),r.a.createElement("div",null,r.a.createElement(kt.a,{style:{marginRight:16},color:"secondary",variant:"contained",onClick:n},"abonner"),r.a.createElement(kt.a,{color:"primary",variant:"contained",onClick:i},"s'abonner")))},xt=function(e){return 24*e*60*60*1e3},Bt=function(){return Date.now()},Mt=function(e){return!Boolean(e.limitDate)&&Bt()-e.firstVisit<xt(7)?r.a.createElement(Nt,{message:"Abonnez-vous, car si non l'application va s'auto-bloquer",handleOrder:e.handleOrder}):Boolean(e.limitDate)&&Bt()-e.limitDate>0?r.a.createElement(qt,{handleOrder:e.handleOrder,handleSubscribe:e.handleSuscribe,expired:!0}):!Boolean(e.limitDate)&&Bt()-e.firstVisit>xt(7)?r.a.createElement(qt,{handleOrder:e.handleOrder,handleSubscribe:e.handleSuscribe}):e.limitDate-Bt()>xt(4)?null:r.a.createElement(Nt,{message:"Votre abonnement expire bientot",handleOrder:e.handleOrder})},Ut=a(38),wt=a.n(Ut),Gt=function(e){var t=e.value,a=e.handleChange,n=Object(T.a)(e,["value","handleChange"]);return r.a.createElement(wt.a,Object.assign({},n,{value:t,required:!0,fullWidth:!0,margin:"dense",onChange:a}))},Ft=a(33),Kt=a.n(Ft),Vt=a(52),Qt=a.n(Vt),Wt=a(34),zt=a.n(Wt),Jt=a(77),Ht=a.n(Jt),Yt=a(140),Xt=a.n(Yt),$t=a(71),Zt=a.n($t),_t=function(e){var t=e.children,a=e.open,n=e.title,i=e.handleClose;return r.a.createElement(Ht.a,{open:a,onClose:i,maxWidth:"xs",scroll:"body",TransitionComponent:Zt.a},r.a.createElement(Xt.a,null,n),r.a.createElement(zt.a,null),t)},ea=function(e){var t=e.label;return r.a.createElement(kt.a,{type:"submit",variant:"contained",color:"primary"},t)},ta=function(e){var t=e.children,a=e.handleSubmit,n=Object(T.a)(e,["children","handleSubmit"]);return r.a.createElement(_t,n,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a()}},r.a.createElement(Kt.a,null,t),r.a.createElement(zt.a,null),r.a.createElement(Qt.a,null,r.a.createElement("div",{style:{paddingRight:16}},r.a.createElement(ea,{label:"enregistrer"})))))},aa=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(t.getFullYear(),"-").concat((e=t.getMonth()+1,e<10?"0".concat(e):e),"-").concat(t.getDate())},na=function(e){var t=e.handleChange,a=e.handleClose,n=e.handleSubmit,i=e.open,o=e.limitDate,c=e.code;return r.a.createElement(ta,{handleSubmit:n({limitDate:o,code:c}),handleClose:a,open:i,title:"Abonnement"},r.a.createElement(Gt,{type:"date",label:"Date limite",value:o||aa(),handleChange:t("limitDate")}),r.a.createElement(Gt,{type:"password",label:"Code",value:c,handleChange:t("code")}))},ra=new Intl.DateTimeFormat("fr",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format,ia=function(e){var t=e.limitDate,a=e.open,n=e.handleClose,i=e.handleSuscribeClick;return r.a.createElement(_t,{open:a,handleClose:n,title:"A propos"},r.a.createElement(Kt.a,null,r.a.createElement(Et.a,{paragraph:!0,align:"justify"},"LINGB est une application web de gestion de stocks et ventes facile \xe0 prendre en main."),r.a.createElement(Et.a,{paragraph:!0,align:"justify"},"L'application est utilisable sous abonnement mensuel. Et votre abonnement court jusqu' \xe0 la date du ",Boolean(t)?ra(new Date(t)):"..."),r.a.createElement(Et.a,{paragraph:!0},"Pour plus d'informations:"),r.a.createElement(Et.a,{paragraph:!0},"+243 89 038 37 94"),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(kt.a,{color:"primary",variant:"contained",onClick:i},"Abonner"))))},oa=function(e){return r.a.createElement(_t,Object.assign({},e,{title:"Contact"}),r.a.createElement(Kt.a,null,r.a.createElement(Et.a,{paragraph:!0,align:"justify"},"Pour se (re)abonner, envoyez nous un sms, contenant addresse (votre commune, avenue, numero) et nous viendrons vite vous reabonner"),r.a.createElement(Et.a,null,"Tel: +243 89 038 37 94")))},ca=a(39),la=a.n(ca),sa=a(96),ua=a.n(sa),da=a(95),pa=a.n(da),fa=function(e){var t=e.open,a=e.handleClose,n=Object(T.a)(e,["open","handleClose"]);return r.a.createElement(_t,{open:t,handleClose:a,title:"Parametres"},r.a.createElement(Kt.a,null,r.a.createElement("div",{style:{padding:"8px 0"}},r.a.createElement(pa.a,{control:r.a.createElement(ua.a,{color:"primary",onChange:function(e,t){return n.handleChange("setOldTime",t)}}),label:"Inserer une date differente de la date du terminal",checked:n.setOldTime})),r.a.createElement("div",{style:{padding:"8px 0"}},r.a.createElement(pa.a,{control:r.a.createElement(ua.a,{color:"primary",onChange:function(e,t){return n.handleChange("filterDay",t)}}),label:"Ne considerer que les operations de la date en cour",checked:n.filterDay})),r.a.createElement(la.a,null,"Date en cour"),r.a.createElement("div",null,r.a.createElement(wt.a,{type:"date",value:n.currentDate,fullWidth:!0,onChange:function(e){return n.handleChange("currentDate",e.target.value)}}))))},Ea=a(53),ma=a.n(Ea),ga=a(145),va=a.n(ga),ha=a(146),Ca=a.n(ha),ba=a(149),Oa=a.n(ba),Pa=a(148),Aa=a.n(Pa),Sa=a(147),Da=a.n(Sa),ya=a(142),Ta=a.n(ya),ja=a(143),Ia=a.n(ja),Ra=a(144),La=a.n(Ra),ka=a(141),Na=a.n(ka),qa=function(e){var t=e.Icon,a=void 0===t?Na.a:t,n=e.text,i=e.handleClick,o=Object(T.a)(e,["Icon","text","handleClick"]);return r.a.createElement(Ta.a,Object.assign({},o,{onClick:i}),r.a.createElement(Ia.a,null,r.a.createElement(a,null)),r.a.createElement(La.a,{primary:n}))},xa=(new FileReader,function(e){var t=e.open,a=e.handleClose,n=Object(T.a)(e,["open","handleClose"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ma.a,Object.assign({open:t,onClose:a,anchorEl:document.getElementById("menu")},{disableAutoFocusItem:!0}),r.a.createElement(qa,{text:"Sauvegarder",handleClick:n.fbackup,Icon:va.a}),r.a.createElement(qa,Object.assign({text:"Ouvrir"},n.fopen,{Icon:Ca.a})),r.a.createElement(zt.a,null),r.a.createElement(qa,Object.assign({},n.freinit,{text:"Reinitialiser",Icon:Da.a})),r.a.createElement(zt.a,null),r.a.createElement(qa,Object.assign({},n.fsetting,{text:"Configuration",Icon:Aa.a})),r.a.createElement(qa,Object.assign({},n.fabout,{text:"A propos",Icon:Oa.a}))))}),Ba=function(e){var t=e.open,a=e.onClose,n=e.onConfirm;return r.a.createElement(Ht.a,Object.assign({maxWidth:"xs"},{open:t,onClose:a}),r.a.createElement(Kt.a,null,r.a.createElement(la.a,{align:"justify",color:"secondary"},"La reinitialisation consiste \xe0 effacer toutes les operation (ventes et achats) de votre application, voulez-vous reinitialiser ?")),r.a.createElement(Qt.a,null,r.a.createElement("div",{className:"pad-8"},r.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:n},"Confirmer"))))},Ma=function(e){var t=e.id,a=e.children,n=e.notificationProps,i=e.fnotificationProps,o=e.headerProps,c=e.fheaderProps,l=Object(T.a)(e,["id","children","notificationProps","fnotificationProps","headerProps","fheaderProps"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(St,Object.assign({},o,c)),r.a.createElement("main",{id:t,className:l.className},a),r.a.createElement(oa,Object.assign({},l.infoProps,l.finfoProps)),r.a.createElement(ia,Object.assign({},l.aboutProps,l.faboutProps)),r.a.createElement(Rt,Object.assign({},n,i)),r.a.createElement(Mt,Object.assign({},l.subscriptionProps,l.fsubscriptionProps)),r.a.createElement(na,Object.assign({},l.subscribeProps,l.fsubscribeProps)),r.a.createElement(fa,Object.assign({},l.settingProps,l.fsettingProps)),r.a.createElement(xa,Object.assign({},l.appMenuProps,l.fappMenuProps)),r.a.createElement(Ba,Object.assign({},l.confirmReinit,l.fconfirmReinit)))},Ua=a(54),wa=a.n(Ua),Ga=function(e){var t=e.title,a=e.value;return r.a.createElement("dl",null,r.a.createElement(Et.a,{style:{fontWeight:900},color:"inherit",component:"dt"},t),r.a.createElement(Et.a,{style:{fontWeight:900},color:"inherit",component:"dd"},Number.isNaN(Number.parseInt(lt(a)))?a:lt(a)))},Fa=function(e){var t=e.title,a=e.infos,n=void 0===a?[]:a;return r.a.createElement("div",{className:"pad-8"},r.a.createElement("div",{style:{padding:"8px 8px 0 8px"}},r.a.createElement(Et.a,{variant:"h6"},t)),r.a.createElement(zt.a,{style:{margin:"0 8px"}}),r.a.createElement("div",{className:"pad-8"},n.map(function(e,t){var a=Object(oe.a)(e,2),n=a[0],i=a[1];return r.a.createElement(Ga,{key:t,title:n,value:i})})))},Ka=function(e){var t=e.infos,a=void 0===t?[]:t;return r.a.createElement(wa.a,null,a.map(function(e,t){return r.a.createElement(Fa,Object.assign({key:t},e))}))},Va=a(78),Qa=a.n(Va),Wa=a(150),za=a.n(Wa),Ja=function(e){var t=e.handleClick;return r.a.createElement(Me.a,{onClick:t},r.a.createElement(za.a,null))},Ha=a(151),Ya=a.n(Ha),Xa=function(e){var t=e.handleClick,a=Object(T.a)(e,["handleClick"]);return r.a.createElement(Me.a,Object.assign({},a,{onClick:t}),r.a.createElement(Ya.a,null))},$a=function(e){var t=e.statCard,a=void 0!==t&&t,n=e.title,i=e.url,o=e.handleMoreClick;return r.a.createElement("div",null,r.a.createElement(Qa.a,{title:n,titleTypographyProps:{variant:"h6",noWrap:!0},action:r.a.createElement(r.a.Fragment,null,Boolean(i)&&r.a.createElement(Xa,{to:i,component:ce.b}),!Boolean(a)&&r.a.createElement(Ja,{handleClick:o}))}))},Za=a(154),_a=a.n(Za),en=a(156),tn=a.n(en),an=a(155),nn=a.n(an),rn=a(153),on=a.n(rn),cn=function(e){var t=e.order,a=e.orderBy,n=e.id,i=e.label,o=e.pad,c=void 0===o?"default":o,l=e.handleSort;return r.a.createElement(Ne.a,{padding:c,align:["qty","salesCount","uPrice","time","tPrice","tCout","uCout","price","bCout","cCout","rCout","revenue","result","mPrice"].some(function(e){return e===n})?"right":"left",sortDirection:a===n&&t},r.a.createElement(on.a,{direction:t,active:a===n,onClick:l(n)},i))},ln=function(e){var t=e.data,a=void 0===t?[]:t,n=e.schema,i=void 0===n?[]:n,o=e.Row,c=e.cellProps,l=e.fcellProps,s=e.frowProps,u=void 0===s?{}:s;return r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement(_a.a,null,r.a.createElement(nn.a,null,i.map(function(e,t){var a=Object(oe.a)(e,3),n=a[0],i=a[1],o=a[2];return r.a.createElement(cn,Object.assign({key:t,id:n,label:i,pad:o},c,l))})),r.a.createElement(tn.a,null,a.map(function(e,t){return r.a.createElement(o,Object.assign({key:t},e,u))}))))},sn=function(e){var t=e.legendProps,a=void 0===t?{}:t,n=e.tableProps,i=void 0===n?{}:n,o=Object(T.a)(e,["legendProps","tableProps"]);return r.a.createElement(wa.a,null,r.a.createElement($a,Object.assign({},a,o.flegendProps)),r.a.createElement(ln,Object.assign({},i,o.ftableProps)))},un=function(e){var t=e.value,a=e.handleChange,n=Object(T.a)(e,["value","handleChange"]);return r.a.createElement(wt.a,Object.assign({},n,{type:"number",value:t,required:!0,fullWidth:!0,margin:"dense",onChange:a}))},dn=function(e){var t=e.title,a=e.model,n=void 0===a?{}:a,i=e.handleChange,o=void 0===i?function(){return null}:i,c=Object(T.a)(e,["title","model","handleChange"]);return r.a.createElement(ta,Object.assign({},c,{title:t}),r.a.createElement(Gt,{value:n.des,handleChange:o("des"),label:"Designation"}),r.a.createElement(un,{value:n.uPrice,handleChange:o("uPrice"),label:"Prix unitaire"}))},pn=function(e){var t=e.qty,a=e.price,n=e.handleChange,i=Object(T.a)(e,["qty","price","handleChange"]);return r.a.createElement(ta,Object.assign({},i,{title:"Ajouter un prix"}),r.a.createElement(un,{label:"Quantit\xe9",value:t,handleChange:n("qty")}),r.a.createElement(un,{label:"Prix",value:a,handleChange:n("price")}))},fn=(a(337),Object(p.b)(function(e,t){var a=e.core,n=e.entities,r=e.forms,i=e.ui,o=e.settings,c=e.subscription,l=t.match.params.id;return{pageProps:Se(a,Te(c),r,i,o,"Informations sur l'article",!1,n),pricesProps:De("Prix en gros",void 0,"asc","qt",Fe,ut(n.articles[l]),[["qt","Quantit\xe9"],["price","Prix en gros","none"],[]]),statsProps:{infos:[ye("infos generales",Ke(n.articles,1*l)),ye("statistiques sur le stock",ct(n.operations,1*l)),ye("statistiques sur les ventes",at(n.operations,1*l))]},dialogsProps:{edit:Le(i.updateArticle,{model:r.article}),price:Le(i.price,r.price)},id:l}},function(e,t){var a=t.match.params.id;return{fpageProps:Ce(e),fpricesProps:Pe(e,"PRICE"),fdialogsProps:{edit:Ae(e,"article","UPDATE ARTICLE","UPDATE ARTICLE"),price:Object(v.a)({},Ae(e,"price","PRICE","PRICE"),{handleSubmit:function(){return e(function(e,t){return e({type:"ADD PRICE",payload:Object(v.a)({},t().forms.price,{id:1*a})})})}})}}})(function(e){var t=e.pageProps,a=e.statsProps,n=e.pricesProps,i=e.dialogsProps,o=Object(T.a)(e,["pageProps","statsProps","pricesProps","dialogsProps"]);return Boolean(o.id)?r.a.createElement(Ma,Object.assign({id:"article-page"},t,o.fpageProps),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{id:"prices",className:"pad-8"},r.a.createElement(sn,Object.assign({},n,o.fpricesProps))),r.a.createElement("div",{className:"pad-8 grow"},r.a.createElement(Ka,a))),r.a.createElement("div",{id:"dialogs"},r.a.createElement(dn,Object.assign({},i.edit,o.fdialogsProps.edit,{title:"Editer l'article"})),r.a.createElement(pn,Object.assign({},i.price,o.fdialogsProps.price)))):r.a.createElement(le.a,{to:"/dashboard"})})),En=function(e){return{handlePageChange:function(t){return function(){return e({type:"PAGE CHANGE",payload:t})}},handleFilterClick:function(){return e({type:"TOGGLE FILTER MENU"})}}},mn=function(e,t){return function(a){return e({type:"PER PAGE CHANGE",payload:{table:t,perPage:a.target.valueAsNumber}})}},gn=function(e,t){return{handleClose:se(e,"FILTER MENU"),handleChange:mn(e,t)}},vn=function(e){return function(t){return function(){return e({type:"REMOVE ARTICLE",payload:t})}}},hn=function(e){return{handleDeleteClick:vn(e),handleClose:se(e,"DELETE ART")}},Cn=function(e){return{fmenuProps:{onClose:function(){return e({type:"TOGGLE ARTICLE MENU"})}},handleDelete:function(){return e({type:"TOGGLE DELETE ART"})},handleEdit:function(t){return function(){return e({type:"EDIT ARTICLE",payload:t})}},handleBought:function(t){return function(){return e({type:"BUY ARTICLE",payload:t})}}}},bn=function(e){var t=e.id,a=e.des,n=e.uPrice,i=e.time,o=e.salesCount,c=e.handleSelect;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,a),r.a.createElement(Ne.a,{align:"right",padding:"none"},lt(n)),r.a.createElement(Ne.a,{align:"right"},lt(o)),r.a.createElement(Ne.a,{align:"right",padding:"none"},ra(i)),r.a.createElement(Ne.a,{padding:"none"},r.a.createElement("div",{className:"cell-action"},r.a.createElement(At,{handleClick:c({id:t,des:a,uPrice:n})}),r.a.createElement("div",{style:{width:8}}))))},On=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isInteger(e/t)?e/t:Number.parseInt(e/t)+1},Pn=function(e,t,a){return{table:t,currentPage:e[t].currentPage,pageCount:On(a,e[t].perPage)}},An=function(e,t){var a=e.deleteArt,n=t.select;return{open:a,artId:n.article?n.article.id:0}},Sn=function(e,t){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(e,t)}},Dn=function(e,t,a){var n=e.articles,r=e.operations,i=t.order,o=t.orderBy,c=a.perPage,l=a.currentPage;return je(Sn(c*l,c*l+c),Qe(i,o),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){return Object(v.a)({},t,{salesCount:e.reduce(function(e,a){var n=a.code,r=a.artId;return 1===n&&r===t.id?e+1:e},0)})})}}(J(r)),J)(n)},yn=function(e){var t=e.value,a=e.listId,n=e.options,i=void 0===n?[]:n,o=e.handleChange,c=Object(T.a)(e,["value","listId","options","handleChange"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,Object.assign({},c,{value:t,required:!0,inputProps:{list:a},fullWidth:!0,margin:"dense",onChange:o})),r.a.createElement("datalist",{id:a},i.map(function(e,t){return r.a.createElement("option",{key:t,value:e})})))},Tn=function(e){var t=e.model,a=void 0===t?{}:t,n=e.articles,i=e.handleChange,o=void 0===i?function(){return null}:i,c=Object(T.a)(e,["model","articles","handleChange"]);return r.a.createElement(ta,Object.assign({},c,{title:"Ajouter une vente"}),r.a.createElement(yn,{value:a.art,options:n,handleChange:o("art"),label:"Article",listId:"sale-articles"}),r.a.createElement(un,{value:a.qty,handleChange:o("qty"),label:"Quantit\xe9"}))},jn=a(158),In=a.n(jn),Rn=a(157),Ln=a.n(Rn),kn=a(159),Nn=a.n(kn),qn=a(160),xn=a.n(qn),Bn=function(e){var t=e.menuProps,a=e.fmenuProps,n=e.handleEdit,i=e.handleDelete,o=e.handleBought,c=e.article,l=void 0===c?{}:c;return r.a.createElement(ma.a,Object.assign({},a,t,{open:Boolean(t.anchorEl),disableAutoFocusItem:!0}),r.a.createElement(qa,{text:"Vendre",Icon:Ln.a,handleClick:o(l)}),r.a.createElement(qa,{text:"Editer",Icon:In.a,handleClick:n(l)}),r.a.createElement(qa,{text:"Supprimer",Icon:Nn.a,handleClick:i}),r.a.createElement(qa,Object.assign({text:"Details",Icon:xn.a,handleClick:a.onClose},{component:ce.b,to:"/articles/".concat(l.id)})))},Mn=a(44),Un=a.n(Mn),wn=a(161),Gn=a.n(wn),Fn=a(162),Kn=a.n(Fn),Vn=a(163),Qn=a.n(Vn),Wn=function(e){var t=e.table,a=e.currentPage,n=e.pageCount,i=e.handleFilterClick,o=e.handlePageChange;return r.a.createElement(Un.a,null,r.a.createElement("div",{style:{borderRadius:"inherit",justifyContent:"flex-end"},className:"flex-center-items"},r.a.createElement(Me.a,{color:"inherit",disabled:a+1===1,onClick:o({page:a-1,table:t})},r.a.createElement(Gn.a,null)),r.a.createElement(Et.a,{color:"inherit"},"".concat(a+1,"/").concat(n||1)),r.a.createElement(Me.a,{color:"inherit",disabled:a+1===(n||1),onClick:o({page:a+1,table:t})},r.a.createElement(Kn.a,null)),r.a.createElement(Me.a,{id:"filter",onClick:i},r.a.createElement(Qn.a,null))))},zn=a(94),Jn=a.n(zn),Hn=function(e){var t=e.open,a=void 0!==t&&t,n=e.anchor,i=void 0===n?window.document.getElementById("filter"):n,o=Object(T.a)(e,["open","anchor"]);return r.a.createElement(Jn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,anchorEl:i,onClose:o.handleClose},r.a.createElement("div",{className:"pad-8"},r.a.createElement(wt.a,{type:"number",value:o.perPage,onChange:o.handleChange,InputProps:{disableUnderline:!0},autoFocus:!0})))},Yn=function(e){var t=e.handleDeleteClick,a=e.artId,n=Object(T.a)(e,["handleDeleteClick","artId"]);return r.a.createElement(_t,Object.assign({title:"Suppression d'un article"},n),r.a.createElement(Kt.a,null,r.a.createElement(la.a,{align:"justify",color:"secondary"},"La suppression d'un article entra\xeene la suppression de toutes les operations (achats et ventes) qui lui sont li\xe9es. Et\xeas-vous s\xfbr de vouloir effectuer la suppression ?")),r.a.createElement(Qt.a,null,r.a.createElement("div",{style:{paddingRight:16}},r.a.createElement(kt.a,{color:"primary",variant:"contained",onClick:t(a)},"Supprimer"))))},Xn=(a(338),Object(p.b)(function(e){var t=e.core,a=e.subscription,n=e.sorting,r=e.entities,i=e.ui,o=e.settings,c=e.forms,l=e.slicing;return{pageProps:Se(t,Te(a),c,i,o,"Liste des articles",!1,r),pagerProps:Pn(l,"articles",J(r.articles).length),articlesProps:De("articles",void 0,n.article.order,n.article.orderBy,bn,Dn(r,n.article,l.articles),[["des","Designation"],["uPrice","Prix unitaire","none"],["salesCount","Nbre de ventes"],["time","Derniere modification","none"],[]]),dialogs:{article:Le(i.article,{model:c.article}),updateArticle:Le(i.updateArticle,{model:c.article}),sale:Le(i.sale,{model:c.sale}),articleMenu:{menuProps:{anchorEl:t.select.anchor},article:t.select.article},filter:D(l.articles,"open",i.filter),confirmDelete:An(i,t)}}},function(e){return{fpageProps:Ce(e),fpagerProps:En(e),farticlesProps:Pe(e,"ARTICLE"),fdialogs:{article:Ae(e,"article","ARTICLE","ARTICLE"),updateArticle:Ae(e,"article","UPDATE ARTICLE","UPDATE ARTICLE"),sale:Ae(e,"sale","SALE","SALE"),filter:gn(e,"articles"),articleMenu:Cn(e),fconfirmDelete:hn(e)}}})(function(e){var t=e.pageProps,a=e.fpageProps,n=e.articlesProps,i=e.farticlesProps,o=Object(T.a)(e,["pageProps","fpageProps","articlesProps","farticlesProps"]);return r.a.createElement(Ma,Object.assign({id:"articles-page"},t,a),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Wn,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sn,Object.assign({},n,i))),r.a.createElement("div",{id:"dialogs"},r.a.createElement(dn,Object.assign({},o.dialogs.article,o.fdialogs.article,{title:"Ajouter un article"})),r.a.createElement(dn,Object.assign({},o.dialogs.updateArticle,o.fdialogs.updateArticle,{title:"Editer l'article"})),r.a.createElement(Bn,Object.assign({},o.dialogs.articleMenu,o.fdialogs.articleMenu)),r.a.createElement(Tn,Object.assign({},o.dialogs.sale,o.fdialogs.sale)),r.a.createElement(Hn,Object.assign({},o.dialogs.filter,o.fdialogs.filter)),r.a.createElement(Yn,Object.assign({},o.dialogs.confirmDelete,o.fdialogs.fconfirmDelete))))})),$n=a(164),Zn=a.n($n),_n=function(e){var t=e.stats,a=void 0===t?[]:t,n=e.handleMoreClick;return r.a.createElement(wa.a,null,r.a.createElement(Qa.a,{title:"Statistiques actuelles",titleTypographyProps:{variant:"h6",noWrap:!0},action:r.a.createElement(Xa,{id:"stats",handleClick:n})}),r.a.createElement(zt.a,null),r.a.createElement(Zn.a,null,a.map(function(e,t){var a=Object(oe.a)(e,2),n=a[0],i=a[1];return r.a.createElement(Ga,{key:t,title:i,value:n})})))},er=function(e){var t=e.handleChange,a=void 0===t?function(){return null}:t,n=e.model,i=void 0===n?{}:n,o=Object(T.a)(e,["handleChange","model"]);return r.a.createElement(ta,Object.assign({title:"Terminer la vente"},o),r.a.createElement(la.a,{color:"primary"},"L' article que vous veniez de saisir n'existe pas encore dans le systeme, alors determinez son prix unitaire de vente"),r.a.createElement(un,{label:"Prix unitaire",value:i.uPrice,handleChange:a("uPrice")}))},tr=function(e){var t=e.handleChange,a=void 0===t?function(){return null}:t,n=e.model,i=void 0===n?{}:n,o=Object(T.a)(e,["handleChange","model"]);return r.a.createElement(ta,Object.assign({title:"Terminer l' achat"},o),r.a.createElement(la.a,{color:"primary"},"L' article que vous veniez de saisir n'existe pas encore dans le systeme, alors determinez son prix unitaire de vente"),r.a.createElement(un,{label:"Prix unitaire",value:i.uPrice,handleChange:a("uPrice")}))},ar=function(e){var t=e.model,a=void 0===t?{}:t,n=e.articles,i=e.handleChange,o=void 0===i?function(){return null}:i,c=Object(T.a)(e,["model","articles","handleChange"]);return r.a.createElement(ta,Object.assign({},c,{title:"Ajouter un achat"}),r.a.createElement(yn,{value:a.art,options:n,handleChange:o("art"),label:"Article",listId:"stock-articles"}),r.a.createElement(un,{value:a.qty,handleChange:o("qty"),label:"Quantit\xe9"}),r.a.createElement(un,{value:a.cout,handleChange:o("tCout"),label:"Cout"}))},nr=function(e){var t=e.menuProps,a=e.fmenuProps;return r.a.createElement(ma.a,Object.assign({anchorEl:document.getElementById("stats"),disableAutoFocusItem:!0},t,a),r.a.createElement(qa,{text:"Stats sur les ventes",handleClick:a.onClose,to:"/ventes-stats",component:ce.b}),r.a.createElement(qa,{text:"Stats sur les stock",handleClick:a.onClose,to:"/operations-stats",component:ce.b}),r.a.createElement(qa,{text:"Stats sur les resultat",handleClick:a.onClose,to:"/resultats-stats",component:ce.b}))},rr=function(e){return r.a.createElement("div",null,r.a.createElement(er,Object.assign({},e.artSale,e.fartSale)),r.a.createElement(tr,Object.assign({},e.artStock,e.fartStock)),r.a.createElement(dn,Object.assign({},e.article,e.farticle,{title:"Ajouter un article"})),r.a.createElement(dn,Object.assign({},e.updateArticle,e.fupdateArticle,{title:"Editer l'article"})),r.a.createElement(Tn,Object.assign({},e.sale,e.fsale)),r.a.createElement(ar,Object.assign({},e.stock,e.fstock)),r.a.createElement(Bn,Object.assign({},e.articleMenu,e.farticleMenu)),r.a.createElement(nr,Object.assign({},e.statsMenu,e.fstatsMenu)),r.a.createElement(Yn,Object.assign({},e.deleteArt,e.fdeleteArt)))},ir=(a(340),function(e){return{fmenuProps:{handleClose:function(){return e({type:"TOGGLE APP MENU"})}},farticle:de(e,"ARTICLE"),fsale:de(e,"SALE"),fstock:de(e,"STOCK"),fsetting:de(e,"SETTING"),fabout:de(e,"ABOUT")}}),or=function(e){return{style:{color:e<=0?"darkred":"rgba(0, 0, 0, 0.87)"}}},cr=function(e){var t=e.id,a=e.code,n=e.art,i=e.uCout,o=e.time,c=e.tCout,l=e.qty,s=e.handleRemove;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,or(c),n),r.a.createElement(Ne.a,or(c),{0:"Achat",1:"Vente"}[a]),r.a.createElement(Ne.a,Object.assign({},or(c),{align:"right"}),lt(l)),r.a.createElement(Ne.a,Object.assign({},or(c),{align:"right"}),lt(i)),r.a.createElement(Ne.a,Object.assign({},or(c),{align:"right",padding:"none"}),lt(c)),r.a.createElement(Ne.a,Object.assign({},or(c),{align:"right",padding:"none"}),r.a.createElement("div",{style:{paddingLeft:16}},ra(o))),r.a.createElement(Ne.a,{padding:"none"},r.a.createElement("div",{className:"cell-action"},r.a.createElement(Ge,{handleClick:s(t)}),r.a.createElement("div",{style:{width:8}}))))},lr=function(e){var t=e.id,a=e.art,n=e.time,i=e.tPrice,o=e.qty,c=e.uPrice,l=e.handleRemove;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,a),r.a.createElement(Ne.a,{align:"right"},lt(o)),r.a.createElement(Ne.a,{align:"right"},lt(c)),r.a.createElement(Ne.a,{align:"right",padding:"none"},lt(i)),r.a.createElement(Ne.a,{padding:"none"}),r.a.createElement(Ne.a,{align:"right",padding:"none",style:{paddingLeft:16}},ra(n)),r.a.createElement(Ne.a,{padding:"none"},r.a.createElement("div",{className:"cell-action"},r.a.createElement(Ge,{handleClick:l(t)}),r.a.createElement("div",{style:{width:8}}))))},sr=function(e){var t=e.articles,a=e.operations;return je(Sn(0,3),Qe("desc","salesCount"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){return Object(v.a)({},t,{salesCount:e.reduce(function(e,a){var n=a.code,r=a.artId;return 1===n&&r===t.id?e+1:e},0)})})}}(J(a)),J)(t)},ur=Qe(),dr=je(J,function(e){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,a){return Object(v.a)({},t,Object(A.a)({},a[e],function(e,t,a){return Boolean(e[t[a]])?[].concat(Object(f.a)(e[t[a]]),[t]):[t]}(t,a,e)))},{})}}("artId")),pr=je(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).flat()},Ie(_e),dr,J),fr=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e?a.filter(function(e){var a=e.time;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}(new Date(a),new Date(t))}):a}},Er=function(e,t,a){return je(Sn(0,3),ur,fr(t,a),pr)(e)},mr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return 1===e.code})},gr=function(e,t,a){return je(Sn(0,3),ur,mr,fr(t,a),pr)(e)},vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.code,n=t.tCout;return 0!==a?[e,"stock achete"]:[Ye(e,n),"stock achete"]},hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.code,n=t.tCout;return 1===a?[Ye(e,n),"stock vendu"]:[e,"stock vendu"]},Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.code,n=t.tCout;return 0===a?[Ye(e,n),"stock restant"]:[Xe(e,n),"stock restant"]},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.code,n=t.tCout,r=t.tPrice;return 1===a&&n>0?[Ye(e,Xe(r,n)),"resultat"]:[e,"resultat"]},Or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=t.code,n=t.tPrice;return 1===a?[Ye(e,n),"chiffre d' affaire"]:[e,"chiffre d' affaire"]},Pr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=Object(oe.a)(e,5),n=Object(oe.a)(a[0],1)[0],r=Object(oe.a)(a[1],1)[0],i=Object(oe.a)(a[2],1)[0],o=Object(oe.a)(a[3],1)[0],c=Object(oe.a)(a[4],1)[0];return[Or(n,t),br(r,t),hr(i,t),Cr(o,t),vr(c,t)]},[[0,"chiffre d' affaire"],[0,"resultat"],[0,"stock vendu"],[0,"stock restant"],[0,"stock achete"]])},Ar=function(e){var t=e.ui,a=e.forms,n=e.entities,r=e.core,i=e.settings;return{updateArticle:Le(t.updateArticle,{model:a.article}),article:Le(t.article,{model:a.article}),stock:Le(t.stock,{model:a.stock},n.articles),sale:Le(t.sale,{model:a.sale},n.articles),artSale:Le(t.artSale,{model:a.sale}),artStock:Le(t.artStock,{model:a.stock}),articleMenu:{menuProps:{anchorEl:r.select.anchor},article:r.select.article},statsMenu:{menuProps:{anchor:window.document.getElementById("stats"),open:t.statsMenu}},setting:D(i,"open",t.setting),about:D({},"open",t.about),deleteArt:An(t,r)}},Sr=Object(p.b)(function(e){var t,a,n,r,i,o=e.core,c=e.entities,l=e.forms,s=e.ui,u=e.subscription,d=e.settings;return{pageProps:Se(o,Te(u),l,s,d,"Tableau de bord",!0,c),statsProps:(t="/stats",n=c.operations,r=d.filterDay,i=d.currentDate,a=je(Pr,fr(r,i),pr)(n),{moreUrl:t,stats:a}),articlesDataCard:De("liste des articles","/articles","desc","time",bn,sr(c),[["des","Designation"],["uPrice","Prix","none"],["salesCount","Nbre de vente"],["time","Derniere modification","none"],["","","none"]]),operationsDataCard:De("liste des operations","/operations","desc","time",cr,Er(c.operations,d.filterDay,d.currentDate),[["art","Article"],["type","Type"],["qty","Quantit\xe9"],["uCout","Cout unitaire"],["tCout","Cout total","none"],["time","Date exacte","none"],["","","none"]]),salesDataCard:De("liste des ventes","/ventes","desc","time",lr,gr(c.operations,d.filterDay,d.currentDate),[["art","Article"],["qty","Quantit\xe9"],["uPrice","Prix unitaire"],["tPrice","Prix total","none"],[void 0,void 0,"none"],["time","Date","none"],[]]),dialogs:Ar({ui:s,forms:l,entities:c,core:o,settings:d})}},function(e){return{fpageProps:Ce(e),fstatsProps:{handleMoreClick:se(e,"STATS MENU")},farticlesDataCard:Pe(e,"ARTICLE"),foperationsDataCard:Pe(e,"STOCK"),fsalesDataCard:Pe(e,"SALE"),fdialogs:{farticle:Ae(e,"article","ARTICLE","ARTICLE"),fupdateArticle:Ae(e,"article","UPDATE ARTICLE","UPDATE ARTICLE"),fstock:Ae(e,"stock","STOCK","STOCK"),fsale:Ae(e,"sale","SALE","SALE"),fartSale:Ae(e,"sale","ARTICLE AND SALE","ART SALE"),fartStock:Ae(e,"stock","ARTICLE AND STOCK","ART STOCK"),fappMenu:ir(e),farticleMenu:Cn(e),fstatsMenu:{fmenuProps:{onClose:se(e,"STATS MENU")}},fdeleteArt:hn(e)}}})(function(e){var t=e.dialogs,a=void 0===t?{}:t,n=e.pageProps,i=e.fpageProps,o=Object(T.a)(e,["dialogs","pageProps","fpageProps"]);return r.a.createElement(Ma,Object.assign({id:"dashboard"},n,i),r.a.createElement("div",{className:"pad-8 snap-item"},r.a.createElement(_n,Object.assign({},o.statsProps,o.fstatsProps))),r.a.createElement("div",{className:"flex snap-item"},r.a.createElement("div",{id:"articles",className:"pad-8"},r.a.createElement(sn,Object.assign({},o.articlesDataCard,o.farticlesDataCard))),r.a.createElement("div",{id:"ventes",className:"pad-8 snap-item"},r.a.createElement(sn,Object.assign({},o.salesDataCard,o.fsalesDataCard)))),r.a.createElement("div",{id:"operations",className:"pad-8 snap-item"},r.a.createElement(sn,Object.assign({},o.operationsDataCard,o.foperationsDataCard))),r.a.createElement(rr,Object.assign({},a,o.fdialogs)))}),Dr=(a(341),function(e){var t=e.art,a=e.bCout,n=e.cCout,i=e.rCout,o=e.qty;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,t),r.a.createElement(Ne.a,{align:"right"},lt(o)),r.a.createElement(Ne.a,{align:"right"},lt(a)),r.a.createElement(Ne.a,{align:"right"},lt(n)),r.a.createElement(Ne.a,{align:"right"},lt(i)))}),yr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.reduce(function(e,t){return{art:t.art,qty:0===t.code?e.qty+t.qty:e.qty-t.qty,bCout:0===t.code?e.bCout+t.tCout:e.bCout,cCout:1===t.code?e.cCout+t.tCout:e.cCout,rCout:0===t.code?e.rCout+t.tCout:e.rCout-t.tCout}},{bCout:0,cCout:0,rCout:0,qty:0})})},Tr=function(e,t,a,n,r){var i=t.order,o=t.orderBy,c=a.perPage,l=a.currentPage;return je(Sn(c*l,c*l+c),Qe(i,o),function(e){return e.filter(function(e){return e.bCout>0})},yr,Ie(_e),dr,J)(e)},jr=Object(p.b)(function(e){var t=e.entities,a=e.subscription,n=e.ui,r=e.sorting,i=e.forms,o=e.settings,c=e.core,l=e.slicing;return{pageProps:Se(c,Te(a),i,n,o,"Etat des stocks par article",!1,t),pagerProps:Pn(l,"operationsStats",dr(J(t.operations)).length),operationStatsProps:De("statistiques",void 0,r.operationStats.order,r.operationStats.orderBy,Dr,Tr(t.operations,r.operationStats,l.operationsStats,o.filterDay,o.currentDate),[["art","Article"],["qty","Quantit\xe9 restante"],["bCout","Stock achet\xe9"],["cCout","Stock vendu"],["rCout","Stock restant"]],!0),filter:D(l.operationsStats,"open",n.filter)}},function(e){return{fpageProps:Ce(e),fpagerProps:En(e),foperationStatsProps:Pe(e,"OPERATIONS STATS"),ffilter:gn(e,"operationsStats")}})(function(e){var t=e.pageProps,a=e.fpageProps,n=e.operationStatsProps,i=e.foperationStatsProps,o=Object(T.a)(e,["pageProps","fpageProps","operationStatsProps","foperationStatsProps"]);return r.a.createElement(Ma,Object.assign({},t,a),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Wn,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sn,Object.assign({},n,i))),r.a.createElement(Hn,Object.assign({},o.filter,o.ffilter)))}),Ir=(a(342),function(e,t){var a=t.filterDay,n=t.currentDate;return je(fr(a,n),pr)(e).length}),Rr=function(e,t,a,n,r){var i=t.order,o=t.orderBy,c=a.perPage,l=a.currentPage;return je(Sn(l*c,l*c+c),Qe(i,o),fr(n,r),pr)(e)},Lr=Object(p.b)(function(e){var t=e.core,a=e.subscription,n=e.entities,r=e.forms,i=e.ui,o=e.settings,c=e.sorting,l=e.slicing;return{pageProps:Se(t,Te(a),r,i,o,"Liste des operations",!1,n),pagerProps:Pn(l,"operations",Ir(n.operations,o)),operationsProps:De("operations",void 0,c.stock.order,c.stock.orderBy,cr,Rr(n.operations,c.stock,l.operations,o.filterDay,o.currentDate),[["art","Article"],["code","Type"],["qty","Quantit\xe9"],["uCout","Cout unitaire"],["tCout","Cout total","none"],["time","Date","none"],[]]),dialogs:{stock:Le(i.stock,r.stock,n.articles),artStock:Le(i.artStock,r.stock),filter:Object(v.a)({open:i.filter},l.operations)}}},function(e){return{fpageProps:Ce(e),fpagerProps:En(e),foperationsProps:Pe(e,"STOCK"),fdialogs:{stock:Ae(e,"stock","STOCK","STOCK"),artStock:Ae(e,"stock","ARTICLE AND STOCK","ART STOCK"),filter:gn(e,"operations")}}})(function(e){var t=e.pageProps,a=e.operationsProps,n=e.fpageProps,i=e.foperationsProps,o=Object(T.a)(e,["pageProps","operationsProps","fpageProps","foperationsProps"]);return r.a.createElement(Ma,Object.assign({id:"operations-page"},t,n),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Wn,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sn,Object.assign({},a,i))),r.a.createElement("div",{id:"dialogs"},r.a.createElement(ar,Object.assign({},o.dialogs.stock,o.fdialogs.stock)),r.a.createElement(tr,Object.assign({},o.dialogs.artStock,o.fdialogs.artStock)),r.a.createElement(Hn,Object.assign({},o.dialogs.filter,o.fdialogs.filter))))}),kr=(a(343),function(e){var t=e.art,a=e.qty,n=e.revenue,i=e.cCout,o=e.result;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,t),r.a.createElement(Ne.a,{align:"right"},lt(a)),r.a.createElement(Ne.a,{align:"right"},lt(n)),r.a.createElement(Ne.a,{align:"right"},lt(i)),r.a.createElement(Ne.a,{align:"right"},lt(o)))}),Nr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.reduce(function(e,t){return{art:t.art,qty:1===t.code?t.qty+e.qty:e.qty,revenue:1===t.code?e.revenue+t.tPrice:e.revenue,bCout:0===t.code?e.bCout+t.tCout:e.bCout,cCout:1===t.code?e.cCout+t.tCout:e.cCout,result:1===t.code&&t.tCout>0?e.result+t.tPrice-t.tCout:e.result}},{revenue:0,cCout:0,bCout:0,result:0,qty:0})})},qr=function(e,t,a,n,r){var i=t.order,o=t.orderBy,c=a.perPage,l=a.currentPage;return je(Sn(c*l,c*l+c),Qe(i,o),function(e){return e.filter(function(e){return e.result>0})},Nr,Ie(fr(n,r)),Ie(_e),dr,J)(e)},xr=Object(p.b)(function(e){var t=e.entities,a=e.subscription,n=e.ui,r=e.settings,i=e.sorting,o=e.forms,c=e.core,l=e.slicing;return{pageProps:Se(c,Te(a),o,n,r,"Resultats par article",!1,t),pagerProps:Pn(l,"resultStats",dr(J(t.operations)).length),resultStatsProps:De("statistiques",void 0,i.resultStats.order,i.resultStats.orderBy,kr,qr(t.operations,i.resultStats,l.resultStats,r.filterDay,r.currentDate),[["art","Article"],["qty","Quantit\xe9 vendue"],["revenue","Chiffre d'affaire"],["cCout","Stock vendu"],["result","Resultat"]],!0),filter:D(l.resultStats,"open",n.filter)}},function(e){return{fpageProps:Ce(e),fpagerProps:En(e),fresultStatsProps:Pe(e,"RESULTS STATS"),ffilter:gn(e,"resultStats")}})(function(e){var t=e.pageProps,a=e.fpageProps,n=e.resultStatsProps,i=e.fresultStatsProps,o=Object(T.a)(e,["pageProps","fpageProps","resultStatsProps","fresultStatsProps"]);return r.a.createElement(Ma,Object.assign({},t,a),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Wn,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sn,Object.assign({},n,i))),r.a.createElement(Hn,Object.assign({},o.filter,o.ffilter)))}),Br=(a(344),function(e){var t=e.art,a=e.mPrice,n=e.qty,i=e.revenue;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,t),r.a.createElement(Ne.a,{align:"right"},lt(n)),r.a.createElement(Ne.a,{align:"right"},lt(a)),r.a.createElement(Ne.a,{align:"right"},lt(i)))}),Mr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.reduce(function(e,t,a,n){return{art:t.art,qty:e.qty+t.qty,revenue:e.revenue+t.tPrice,mPrice:n.reduce(function(e,t){return e+t.uPrice},0)/n.length}},{qty:0,revenue:0,mPrice:0})})},Ur=function(e,t){var a=t.filterDay,n=t.currentDate;return je(function(e){return e.filter(function(e){return e.revenue>0})},Mr,dr,mr,fr(a,n),J)(e).length},wr=function(e,t,a,n,r){var i=t.order,o=t.orderBy,c=a.perPage,l=a.currentPage;return je(Sn(c*l,c*l+c),Qe(i,o),function(e){return e.filter(function(e){return e.revenue>0})},Mr,dr,mr,fr(n,r),J)(e)},Gr=Object(p.b)(function(e){var t=e.entities,a=e.subscription,n=e.settings,r=e.ui,i=e.sorting,o=e.core,c=e.forms,l=e.slicing;return{pageProps:Se(o,Te(a),c,r,n,"Chiffre d'affaire par article",!1,t),pagerProps:Pn(l,"salesStats",Ur(t.operations,n)),saleStatsProps:De("statistiques",void 0,i.saleStats.order,i.saleStats.orderBy,Br,wr(t.operations,i.saleStats,l.salesStats,n.filterDay,n.currentDate),[["art","Article"],["qty","Quantit\xe9 vendue"],["mPrice","Prix moyen"],["revenue","Chiffre d'affaire"]],!0),filter:D(l.salesStats,"open",r.filter)}},function(e){return{fpageProps:Ce(e),fpagerProps:En(e),fsaleStatsProps:Pe(e,"SALES STATS"),ffilter:gn(e,"salesStats")}})(function(e){var t=e.pageProps,a=e.fpageProps,n=e.saleStatsProps,i=e.fsaleStatsProps,o=Object(T.a)(e,["pageProps","fpageProps","saleStatsProps","fsaleStatsProps"]);return r.a.createElement(Ma,Object.assign({},t,a),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Wn,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sn,Object.assign({},n,i))),r.a.createElement(Hn,Object.assign({},o.filter,o.ffilter)))}),Fr=(a(345),function(e,t){var a=t.filterDay,n=t.currentDate;return je(mr,fr(a,n),J)(e).length}),Kr=function(e,t,a,n){var r=t.order,i=t.orderBy,o=a.perPage,c=a.currentPage,l=n.filterDay,s=n.currentDate;return je(Sn(c*o,c*o+o),Qe(r,i),Ie(function(e){var t=e.tPrice,a=e.qty,n=Object(T.a)(e,["tPrice","qty"]);return Object(v.a)({},n,{tPrice:t,qty:a,uPrice:t/a})}),mr,fr(l,s),J)(e)},Vr=[["/dashboard",Sr],["/articles/:id",fn],["/articles",Xn],["/operations-stats",jr],["/operations",Lr],["/resultats-stats",xr],["/ventes-stats",Gr],["/ventes",Object(p.b)(function(e){var t=e.core,a=e.subscription,n=e.entities,r=e.settings,i=e.ui,o=e.forms,c=e.sorting,l=e.slicing;return{pageProps:Se(t,Te(a),o,i,r,"Liste de ventes",!1,n),pagerProps:Pn(l,"sales",Fr(n.operations,r)),salesProps:De("liste de ventes",void 0,c.sale.order,c.sale.orderBy,lr,Kr(n.operations,c.sale,l.sales,r),[["art","Article"],["qty","Quantit\xe9"],["uPrice","Prix unitaire"],["tPrice","Prix total","none"],[void 0,void 0,"none"],["time","Date","none"],[]]),dialogs:{sale:Le(i.sale,{model:o.sale},n.articles),artSale:Le(i.artSale,{model:o.sale}),filter:Object(v.a)({open:i.filter},l.sales)}}},function(e){return{fpageProps:Ce(e),fpagerProps:En(e),fsalesProps:Pe(e,"SALE"),fdialogs:{sale:Ae(e,"sale","SALE","SALE"),artSale:Ae(e,"sale","ARTICLE AND SALE","ART SALE"),filter:gn(e,"sales")}}})(function(e){var t=e.pageProps,a=e.fpageProps,n=e.salesProps,i=e.fsalesProps,o=Object(T.a)(e,["pageProps","fpageProps","salesProps","fsalesProps"]);return r.a.createElement(Ma,Object.assign({id:"sales-page"},t,a),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Wn,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sn,Object.assign({},n,i))),r.a.createElement("div",{id:"dialogs"},r.a.createElement(Tn,Object.assign({},o.dialogs.sale,o.fdialogs.sale)),r.a.createElement(er,Object.assign({},o.dialogs.artSale,o.fdialogs.artSale)),r.a.createElement(Hn,Object.assign({},o.dialogs.filter,o.fdialogs.filter))))})]],Qr=function(){return r.a.createElement(ce.a,null,r.a.createElement(le.d,null,r.a.createElement(le.a,{exact:!0,from:"/",to:"/dashboard"}),Vr.map(function(e,t){var a=Object(oe.a)(e,2),n=a[0],i=a[1];return r.a.createElement(le.b,{key:t,path:n,component:i})})))},Wr=(a(346),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){ie.dispatch({type:"SET FIRST VISIT"})}},{key:"render",value:function(){return r.a.createElement(p.a,{store:ie},r.a.createElement(Qr,null))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Wr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[167,1,2]]]);
//# sourceMappingURL=main.877263ca.chunk.js.map